<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Allied Work Docs</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background-color: #000; color: #fff; font-family: 'Karla', sans-serif; }
  #main-content { margin-left: 16rem; padding: 6rem 2rem 2rem 2rem; }
</style>
</head>
<body>

<!-- Navbar -->
<nav class="fixed top-0 w-full z-50 backdrop-blur-lg bg-black/60 p-4 flex justify-between items-center">
  <a href="index.html" class="font-bold text-2xl bg-gradient-to-r from-fuchsia-500 via-cyan-400 to-teal-400 bg-clip-text text-transparent">Allied Work</a>
  <div class="flex space-x-6">
    <a href="docs.html" class="hover:text-fuchsia-400 transition">Documentation</a>
    <a href="changelog.html" class="hover:text-fuchsia-400 transition">Changelog</a>
  </div>
</nav>

<!-- Sidebar -->
<div id="sidebar" class="fixed top-16 left-0 h-[calc(100%-4rem)] w-64 bg-black/60 backdrop-blur-lg p-6 overflow-y-auto">
  <!-- Sidebar populated by JS -->
</div>

<!-- Main content -->
<div id="main-content">
  <h1 class="text-4xl font-bold mb-6">Documentation</h1>
  <p class="text-gray-300">Select a page from the sidebar to view documentation.</p>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {

  const docsData = [
  {
    "title": "Getting Started",
    "pages": [
      {"title": "Introduction", "href": "getting‑started/introduction.html"},
      {"title": "Why?", "href": "getting‑started/installation.html"},
      {"title": "What is it?", "href": "getting‑started/what‑is‑it.html"},
      {"title": "How to get started", "href": "getting‑started/how‑to‑get‑started.html"},
      {"title": "Syntax and Structure", "href": "getting‑started/syntax.html"}
    ]
  },
  {
    "title": "Commands",
    "pages": [
      {"title": "Drive", "href": "commands/drive.html"},
      {"title": "Turn", "href": "commands/turn.html"},
      {"title": "Arm", "href": "commands/arm.html"},
      {"title": "Extra", "href": "commands/extra.html"}
    ]
  },
  {
    "title": "Examples",
    "pages": [
      {"title": "Basic Movement", "href": "examples/basic‑movement.html"},
      {"title": "Using the Arm", "href": "examples/using‑the‑arm.html"},
      {"title": "Combining Commands", "href": "examples/combining‑commands.html"}
    ]
  
  },
  {"title": "AutoCorrection",
    "pages": [
      {"title": "How to use", "href": "examples/basic‑movement.html"},
      {"title": "Improving Performance", "href": "examples/combining‑commands.html"},
      {"title": "How it works", "href": "examples/using‑the‑arm.html"}
    ]
  
  }
];

  const sidebar = document.getElementById('sidebar');
  const currentPage = window.location.pathname.split("/").pop();

  docsData.forEach(section => {
    const sectionTitle = document.createElement('p');
    sectionTitle.className = 'mt-4 mb-2 text-gray-300 font-semibold text-sm uppercase';
    sectionTitle.textContent = section.title;
    sidebar.appendChild(sectionTitle);

    const ul = document.createElement('ul');
    ul.className = 'pl-2';

    section.pages.forEach(page => {
      if(!page.title) return; // skip empty titles

      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = page.href;
      a.textContent = page.title;
      a.className = 'block py-2 px-3 mb-1 rounded-lg hover:bg-fuchsia-500/30 transition';

      if(currentPage === page.href) {
        a.classList.add('bg-fuchsia-500/50', 'font-bold');
      }

      li.appendChild(a);
      ul.appendChild(li);
    });

    sidebar.appendChild(ul);
  });

});
</script>

</body>
</html>
